<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description" content="Interactive English study site"><link rel="icon" href="/favicon.ico"><title>Ovi English School | Learn English Through Stories</title><link rel="stylesheet" href="/_astro/_date_.CPKlSW36.css">
<link rel="stylesheet" href="/_astro/index.CdhzM4ug.css"></head> <body> <header class="site-header"> <div class="container header-inner"> <div> <a class="brand-link" href="/">Ovi English School</a> <p class="brand-subtitle">Interactive Study Site</p> </div>  </div> </header> <main class="container page-content">   <section class="hero" data-astro-cid-j7pv25f6> <div class="hero-content" data-astro-cid-j7pv25f6> <p class="hero-kicker" data-astro-cid-j7pv25f6>Daily English Podcast</p> <h1 data-astro-cid-j7pv25f6>Learn English from real news.</h1> <p class="hero-subline" data-astro-cid-j7pv25f6>
A short daily episode. A 30-minute study session. Two levels. Free to start.
</p> <a href="/episodes/2026-02-19-episode-00-welcome-to-ovi-english-school" class="hero-cta" data-astro-cid-j7pv25f6>â–¶ Start with Episode 00</a> </div> </section> <section class="card archive-toolbar" id="episodes" data-astro-cid-j7pv25f6> <h1 data-astro-cid-j7pv25f6>Latest Episodes</h1> <div class="archive-sort" role="tablist" aria-label="Sort lessons" data-astro-cid-j7pv25f6> <button type="button" class="archive-sort-btn is-active" data-sort-btn="newest" data-astro-cid-j7pv25f6>Newest</button> <button type="button" class="archive-sort-btn" data-sort-btn="popular" data-astro-cid-j7pv25f6>Popular</button> <button type="button" class="archive-sort-btn" data-sort-btn="culture" data-astro-cid-j7pv25f6>Culture/Global</button> </div> <div class="level-guide" aria-label="English level guide" data-astro-cid-j7pv25f6> <h2 class="level-guide-title" data-astro-cid-j7pv25f6>Choose your level</h2> <p class="level-guide-subtitle" data-astro-cid-j7pv25f6>A1 is easiest. B2 is hardest in this site.</p> <div class="level-guide-track" role="group" aria-label="Level ladder" data-astro-cid-j7pv25f6> <button type="button" class="level-guide-step level-guide-step-a1" data-level-guide-btn="A1" aria-label="A1 â€” Start here" aria-pressed="false" data-astro-cid-j7pv25f6> <span class="level-guide-code" data-astro-cid-j7pv25f6>A1</span> <span class="level-guide-label" data-astro-cid-j7pv25f6>Start here</span> <span class="level-guide-note" data-astro-cid-j7pv25f6>Very simple English</span> </button> <span class="level-guide-connector" aria-hidden="true" data-astro-cid-j7pv25f6></span><button type="button" class="level-guide-step level-guide-step-a2" data-level-guide-btn="A2" aria-label="A2 â€” Next step" aria-pressed="false" data-astro-cid-j7pv25f6> <span class="level-guide-code" data-astro-cid-j7pv25f6>A2</span> <span class="level-guide-label" data-astro-cid-j7pv25f6>Next step</span> <span class="level-guide-note" data-astro-cid-j7pv25f6>Simple daily English</span> </button> <span class="level-guide-connector" aria-hidden="true" data-astro-cid-j7pv25f6></span><button type="button" class="level-guide-step level-guide-step-b1" data-level-guide-btn="B1" aria-label="B1 â€” Stronger" aria-pressed="false" data-astro-cid-j7pv25f6> <span class="level-guide-code" data-astro-cid-j7pv25f6>B1</span> <span class="level-guide-label" data-astro-cid-j7pv25f6>Stronger</span> <span class="level-guide-note" data-astro-cid-j7pv25f6>Longer ideas, more detail</span> </button> <span class="level-guide-connector" aria-hidden="true" data-astro-cid-j7pv25f6></span><button type="button" class="level-guide-step level-guide-step-b2" data-level-guide-btn="B2" aria-label="B2 â€” Advanced here" aria-pressed="false" data-astro-cid-j7pv25f6> <span class="level-guide-code" data-astro-cid-j7pv25f6>B2</span> <span class="level-guide-label" data-astro-cid-j7pv25f6>Advanced here</span> <span class="level-guide-note" data-astro-cid-j7pv25f6>Fast, nuanced English</span> </button>  </div> </div> <div class="archive-level-filter" role="tablist" aria-label="Filter lessons by level" data-astro-cid-j7pv25f6> <button type="button" class="archive-level-btn is-active" data-level-btn="all" data-astro-cid-j7pv25f6>All</button> <button type="button" class="archive-level-btn" data-level-btn="A1" data-astro-cid-j7pv25f6>A1</button> <button type="button" class="archive-level-btn" data-level-btn="A2" data-astro-cid-j7pv25f6>A2</button> <button type="button" class="archive-level-btn" data-level-btn="B1" data-astro-cid-j7pv25f6>B1</button> <button type="button" class="archive-level-btn" data-level-btn="B2" data-astro-cid-j7pv25f6>B2</button> </div> </section> <section class="card pinned-episode" data-astro-cid-j7pv25f6> <p class="pinned-label" data-astro-cid-j7pv25f6>Pinned Lesson: Start Here</p> <article class="episode-card pinned-episode-card" data-date="2026-02-19" data-slug="2026-02-19-episode-00-welcome-to-ovi-english-school" data-episode-id="episode-2026-02-19-episode-00-welcome-to-ovi-english-school" data-cefr="A2" data-episode-href="/episodes/2026-02-19-episode-00-welcome-to-ovi-english-school" role="link" tabindex="0" aria-label="Open lesson: A2 Welcome to Ovi English School" data-astro-cid-j7pv25f6> <div class="episode-thumbnail" data-astro-cid-j7pv25f6> <img class="episode-thumbnail-image" src="/images/episodes/2026-02-19-episode-00-welcome-to-ovi-english-school.png" alt="Flat illustration for Episode 00: Welcome to Ovi English School" loading="lazy" decoding="async" data-astro-cid-j7pv25f6> </div> <div class="episode-content" data-astro-cid-j7pv25f6> <span class="episode-level badge" data-astro-cid-j7pv25f6>Beginner (A2)</span> <h2 data-astro-cid-j7pv25f6> <a href="/episodes/2026-02-19-episode-00-welcome-to-ovi-english-school" data-astro-cid-j7pv25f6>A2: Welcome to Ovi English School</a> </h2> <p class="episode-topic-source" data-astro-cid-j7pv25f6> <a class="episode-meta-link" href="/episodes/2026-02-19-episode-00-welcome-to-ovi-english-school" data-astro-cid-j7pv25f6>Episode 00: Welcome to Ovi English School</a> </p> <p class="episode-date" data-astro-cid-j7pv25f6> <a class="episode-meta-link" href="/episodes/2026-02-19-episode-00-welcome-to-ovi-english-school" data-astro-cid-j7pv25f6> Feb 19, 2026 </a> </p> <a class="open-lesson-link" href="/episodes/2026-02-19-episode-00-welcome-to-ovi-english-school" data-astro-cid-j7pv25f6>Open lesson â†’</a> </div> </article> </section><section class="episode-list" id="episodeList" data-astro-cid-j7pv25f6> <article class="card episode-card" data-date="2026-02-20" data-slug="2026-02-20-watch-the-first-ever-video-uploaded-to-youtube-2" data-episode-id="episode-2026-02-20-watch-the-first-ever-video-uploaded-to-youtube-2" data-category="science" data-tags="science|smithsonian|watch|first-ever|video|uploaded|youtube|grainy|19-second|clip|called|zoo" data-topic="Watch the First-Ever Video Uploaded to YouTube, a Grainy 19-Second Clip Called 'Me at the Zoo' Very First Video on That Website" data-source="Smithsonian" data-cefr="A1" data-episode-href="/episodes/2026-02-20-watch-the-first-ever-video-uploaded-to-youtube-2" role="link" tabindex="0" aria-label="Open lesson: A1 Very First Video on That Website" data-astro-cid-j7pv25f6> <div class="episode-thumbnail" data-astro-cid-j7pv25f6> <span aria-hidden="true" data-astro-cid-j7pv25f6>ðŸ“°</span> </div> <div class="episode-content" data-astro-cid-j7pv25f6> <span class="episode-level badge" data-astro-cid-j7pv25f6> Beginner (A1) </span> <h2 data-astro-cid-j7pv25f6> <a href="/episodes/2026-02-20-watch-the-first-ever-video-uploaded-to-youtube-2" data-astro-cid-j7pv25f6>A1: Very First Video on That Website</a> </h2> <p class="episode-topic-source" data-astro-cid-j7pv25f6> <a class="episode-meta-link" href="/episodes/2026-02-20-watch-the-first-ever-video-uploaded-to-youtube-2" data-astro-cid-j7pv25f6>Watch the First-Ever Video Uploaded to YouTube, a Grainy 19-Second Clip Called &#39;Me at the Zoo&#39;</a> </p> <p class="episode-date" data-astro-cid-j7pv25f6> <a class="episode-meta-link" href="/episodes/2026-02-20-watch-the-first-ever-video-uploaded-to-youtube-2" data-astro-cid-j7pv25f6> Feb 20, 2026 </a> </p> <a class="open-lesson-link" href="/episodes/2026-02-20-watch-the-first-ever-video-uploaded-to-youtube-2" data-astro-cid-j7pv25f6>Open lesson â†’</a> </div> </article> </section> <p id="episodeListEmpty" class="episode-list-empty" hidden data-astro-cid-j7pv25f6>No lessons found for this level yet.</p>  </main> <footer class="site-footer"> <div class="container footer-inner"> <p>Powered by Ovi English School</p> <p>&copy; 2026 Ovi English School</p> </div> </footer> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();</script><script>(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="Dnwm" component-url="/_astro/VocabPopup.BP1L5Q0a.js" component-export="default" renderer-url="/_astro/client.BHSvkI9K.js" props="{}" ssr client="load" opts="{&quot;name&quot;:&quot;VocabPopup&quot;,&quot;value&quot;:true}"></astro-island> </body></html>  <script>
  const list = document.getElementById("episodeList");
  const emptyState = document.getElementById("episodeListEmpty");
  const sortButtons = [...document.querySelectorAll("[data-sort-btn]")];
  const levelButtons = [...document.querySelectorAll("[data-level-btn]")];
  const levelGuideButtons = [...document.querySelectorAll("[data-level-guide-btn]")];
  const SORT_KEY = "episode-archive-sort-mode";
  const LEVEL_KEY = "episode-archive-level-filter";
  const RATING_PREFIX = "episode-rating-";
  const BEHAVIOR_PREFIX = "episode-behavior-";

  const registerCardNavigation = () => {
    const cards = [...document.querySelectorAll(".episode-card[data-episode-href]")];
    const navigate = (url) => {
      if (!url) return;
      window.location.href = url;
    };

    cards.forEach((card) => {
      if (card.dataset.navBound === "1") return;
      card.dataset.navBound = "1";
      card.addEventListener("click", (event) => {
        const interactive = event.target.closest("a, button, input, select, textarea, [role='button']");
        if (interactive && interactive !== card) return;
        navigate(card.dataset.episodeHref || "");
      });
      card.addEventListener("keydown", (event) => {
        if (event.key !== "Enter" && event.key !== " ") return;
        event.preventDefault();
        navigate(card.dataset.episodeHref || "");
      });
    });
  };

  registerCardNavigation();

  if (list && sortButtons.length > 0 && levelButtons.length > 0) {
    const cards = [...list.querySelectorAll(".episode-card")].map((el, index) => ({
      el,
      index,
      date: String(el.dataset.date || ""),
      slug: String(el.dataset.slug || ""),
      episodeId: String(el.dataset.episodeId || ""),
      category: String(el.dataset.category || "").toLowerCase(),
      tags: String(el.dataset.tags || "").toLowerCase(),
      topic: String(el.dataset.topic || "").toLowerCase(),
      source: String(el.dataset.source || "").toLowerCase(),
      cefr: String(el.dataset.cefr || "").toUpperCase(),
    }));

    const getDateValue = (dateString) => {
      const timestamp = Date.parse(dateString);
      return Number.isNaN(timestamp) ? 0 : timestamp;
    };

    const getSavedRating = (episodeId) => {
      if (!episodeId) return 0;
      try {
        const raw = localStorage.getItem(`${RATING_PREFIX}${episodeId}`);
        if (!raw) return 0;
        const parsed = JSON.parse(raw);
        const avg = Number(parsed?.average || 0);
        return Number.isFinite(avg) ? avg : 0;
      } catch (_err) {
        return 0;
      }
    };

    const getBehavior = (episodeId) => {
      if (!episodeId) return {};
      try {
        const raw = localStorage.getItem(`${BEHAVIOR_PREFIX}${episodeId}`);
        if (!raw) return {};
        const parsed = JSON.parse(raw);
        return parsed && typeof parsed === "object" ? parsed : {};
      } catch (_err) {
        return {};
      }
    };

    const bounded = (value, min = 0, max = 9999) =>
      Math.max(min, Math.min(max, Number(value || 0)));

    const popularityScore = (card) => {
      const rating = getSavedRating(card.episodeId);
      const behavior = getBehavior(card.episodeId);
      const opens = bounded(behavior.opens, 0, 1000);
      const completions = bounded(behavior.completions, 0, 1000);
      const flashcardAdds = bounded(behavior.flashcardAdds, 0, 5000);
      const vocabStarts = bounded(behavior.vocabTestStarts, 0, 1000);
      const vocabCompletes = bounded(behavior.vocabTestCompletions, 0, 1000);
      const readingStarts = bounded(behavior.readingModeStarts, 0, 1000);
      const readingCompletionsRaw = bounded(behavior.readingModeCompletions, 0, 1000);
      const legacyReadingAutoStarts = bounded(behavior.readingAutoStarts, 0, 1000);
      const readingCompletions = readingCompletionsRaw > 0
        ? readingCompletionsRaw
        : Math.min(readingStarts, legacyReadingAutoStarts);
      const readingExitsEarly = bounded(behavior.readingModeExitsEarly, 0, 1000);
      const readingLastStepReached = bounded(behavior.readingModeLastStepReached, 0, 1000);
      const listeningStarts = bounded(behavior.listeningStarts, 0, 1000);
      const activeSeconds = bounded(behavior.activeSeconds, 0, 1e7);
      const ageMs = Math.max(0, Date.now() - getDateValue(card.date));
      const ageDays = ageMs / (1000 * 60 * 60 * 24);
      const freshness = Math.max(0, 21 - ageDays) * 0.4;

      const ratingScore = rating * 18;
      const completionScore = Math.min(20, completions * 6);
      const flashcardScore = Math.min(16, flashcardAdds * 1.6);
      const vocabScore = Math.min(18, vocabStarts * 2 + vocabCompletes * 3);
      const readingCompletionRatio = readingStarts > 0
        ? Math.min(1, readingCompletions / readingStarts)
        : 0;
      const readingScore = Math.max(
        0,
        Math.min(
          10,
          readingCompletionRatio * 8
            + Math.min(2, readingCompletions)
            + Math.min(2, readingLastStepReached * 0.2)
            - Math.min(2, readingExitsEarly * 0.2),
        ),
      );
      const listeningScore = Math.min(8, listeningStarts * 2);
      const activeScore = Math.min(14, (activeSeconds / 60) * 2);
      const revisitScore = Math.min(10, Math.max(0, opens - 1) * 2.5);

      return (
        ratingScore
        + completionScore
        + flashcardScore
        + vocabScore
        + readingScore
        + listeningScore
        + activeScore
        + revisitScore
        + freshness
      );
    };

    const countMatches = (text, terms) => {
      const sourceText = String(text || "");
      let score = 0;
      for (const term of terms) {
        const pattern = new RegExp(`\\b${term}\\b`, "gi");
        const matches = sourceText.match(pattern);
        if (matches) score += matches.length;
      }
      return score;
    };

    const CULTURE_TERMS = [
      "culture", "cultural", "tradition", "traditional", "festival", "ritual",
      "food", "cuisine", "travel", "heritage", "history", "language", "art", "music"
    ];
    const GLOBAL_TERMS = [
      "global", "world", "worldwide", "international", "japan", "korea", "india", "brazil",
      "mexico", "china", "africa", "europe", "asia", "latin", "turkey", "thailand", "italy"
    ];
    const VIRAL_TERMS = [
      "viral", "trending", "record", "surprising", "shocking", "breakthrough", "breakthroughs"
    ];
    const LOCAL_NICHE_TERMS = [
      "local league", "minor league", "county", "district", "club", "regional"
    ];

    const cultureScore = (card) => {
      const text = `${card.category} ${card.tags} ${card.topic} ${card.source}`;
      const cultureHits = countMatches(text, CULTURE_TERMS);
      const globalHits = countMatches(text, GLOBAL_TERMS);
      const viralHits = countMatches(text, VIRAL_TERMS);
      const localNicheHits = countMatches(text, LOCAL_NICHE_TERMS);
      const categoryBonus =
        card.category === "lifestyle" ? 10 :
          card.category === "global" ? 8 :
            card.category === "science" || card.category === "tech" ? 6 : 0;

      return (
        categoryBonus
        + cultureHits * 4
        + globalHits * 3
        + viralHits * 1.5
        - localNicheHits * 4
        + popularityScore(card) * 0.12
      );
    };

    const comparators = {
      newest: (a, b) => {
        const byDate = getDateValue(b.date) - getDateValue(a.date);
        if (byDate !== 0) return byDate;
        const bySlug = b.slug.localeCompare(a.slug);
        if (bySlug !== 0) return bySlug;
        return a.index - b.index;
      },
      popular: (a, b) => {
        const byScore = popularityScore(b) - popularityScore(a);
        if (byScore !== 0) return byScore;
        return comparators.newest(a, b);
      },
      culture: (a, b) => {
        const byCulture = cultureScore(b) - cultureScore(a);
        if (byCulture !== 0) return byCulture;
        return comparators.popular(a, b);
      },
    };

    const setActiveButton = (mode) => {
      sortButtons.forEach((btn) => {
        const active = btn.dataset.sortBtn === mode;
        btn.classList.toggle("is-active", active);
        btn.setAttribute("aria-selected", active ? "true" : "false");
      });
    };

    const setActiveLevelButton = (level) => {
      levelButtons.forEach((btn) => {
        const active = btn.dataset.levelBtn === level;
        btn.classList.toggle("is-active", active);
        btn.setAttribute("aria-selected", active ? "true" : "false");
      });
      levelGuideButtons.forEach((btn) => {
        const active = level !== "all" && btn.dataset.levelGuideBtn === level;
        btn.classList.toggle("is-active", active);
        btn.setAttribute("aria-pressed", active ? "true" : "false");
      });
    };

    const matchesLevel = (card, level) => {
      if (level === "all") return true;
      return card.cefr === level;
    };

    const render = (mode, level) => {
      const comparator = comparators[mode] || comparators.newest;
      const filteredCards = cards
        .slice()
        .filter((card) => matchesLevel(card, level))
        .sort(comparator)
      filteredCards.forEach((card) => list.appendChild(card.el));
      setActiveButton(mode);
      setActiveLevelButton(level);
      if (emptyState) emptyState.hidden = filteredCards.length > 0;
      try {
        localStorage.setItem(SORT_KEY, mode);
        localStorage.setItem(LEVEL_KEY, level);
      } catch (_err) {
        // ignore localStorage failures
      }
    };

    sortButtons.forEach((btn) => {
      btn.addEventListener("click", () => {
        const mode = btn.dataset.sortBtn || "newest";
        const activeLevel = levelButtons.find((item) => item.classList.contains("is-active"))?.dataset.levelBtn || "all";
        render(mode, activeLevel);
      });
    });

    levelButtons.forEach((btn) => {
      btn.addEventListener("click", () => {
        const level = btn.dataset.levelBtn || "all";
        const activeMode = sortButtons.find((item) => item.classList.contains("is-active"))?.dataset.sortBtn || "newest";
        render(activeMode, level);
      });
    });

    levelGuideButtons.forEach((btn) => {
      btn.addEventListener("click", () => {
        const level = btn.dataset.levelGuideBtn || "all";
        const activeMode = sortButtons.find((item) => item.classList.contains("is-active"))?.dataset.sortBtn || "newest";
        render(activeMode, level);
      });
    });

    window.addEventListener("episode-rating-updated", () => {
      const active = sortButtons.find((btn) => btn.classList.contains("is-active"));
      const mode = active?.dataset.sortBtn || "newest";
      const level = levelButtons.find((btn) => btn.classList.contains("is-active"))?.dataset.levelBtn || "all";
      if (mode === "popular" || mode === "culture") render(mode, level);
    });

    window.addEventListener("episode-behavior-updated", () => {
      const active = sortButtons.find((btn) => btn.classList.contains("is-active"));
      const mode = active?.dataset.sortBtn || "newest";
      const level = levelButtons.find((btn) => btn.classList.contains("is-active"))?.dataset.levelBtn || "all";
      if (mode === "popular" || mode === "culture") render(mode, level);
    });

    let initialMode = "newest";
    let initialLevel = "all";
    try {
      const stored = localStorage.getItem(SORT_KEY);
      if (stored === "newest" || stored === "popular" || stored === "culture") initialMode = stored;
      const storedLevel = localStorage.getItem(LEVEL_KEY);
      if (storedLevel === "all" || storedLevel === "A1" || storedLevel === "A2" || storedLevel === "B1" || storedLevel === "B2") {
        initialLevel = storedLevel;
      }
    } catch (_err) {
      // ignore localStorage failures
    }
    render(initialMode, initialLevel);
  }
</script>